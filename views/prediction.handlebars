<!DOCTYPE html>
<html>
<head>
<title>Prediction</title>
 <link href="/css/styles.css" rel="stylesheet">
 <!-- <link rel="stylesheet" href="/css/bootstrap.min.css" > -->
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script>
<script>
$(document).ready(() => {
  $('#test-btn').click(() => {
    const testSplit = $('#testing').val().split(' ');
    const firstName = testSplit[0];
    const lastName = testSplit[1];
    const req = 'players/' + firstName + lastName;
    const playerImg = lastName.substring(0,5).toLowerCase() + firstName.substring(0,2).toLowerCase() + "01.jpg";
    const playerUrl = 'https://d2cwpp38twqe55.cloudfront.net/req/201804182/images/players/';
    const twitterUrl = "https://twitter.com/hashtag/" + firstName + lastName;
    $.ajax({
      url: req,
      type: 'GET',
      dataType: 'json',
      success: (data) => {
        $('#player-picture').attr('src',playerUrl + playerImg);
        $('#player-twitter').attr('href', twitterUrl);
        $('#player-twitter').html('#' + firstName + lastName + ' tweets');
        $('#player-name').html(data.name);
        $('#name1').html(data.name);
        $('#player-team').html(data.team);
        $('#player-position').html(data.position);
        $('#field-goal1').html(data.fieldGoalPercent);
        $('#free-throw1').html(data.freeThrowPercent);
        $('#assists1').html(data.assist);
        $('#steals1').html(data.steal);
        $('#blocks1').html(data.block);
        $('#points1').html(data.points);
        $('#minutes1').html(data.minutesPlayed);
      },
    });
  });


  //COMPARE PLAYER BUTTON
  $('#compare-btn').click(() => {
    const cmpSplit = $('#compareSearch').val().split(' ');
    const first = cmpSplit[0];
    const last = cmpSplit[1];
    const req = 'players/' + first + last;
    const cpmImg = last.substring(0,5).toLowerCase() + first.substring(0,2).toLowerCase() + "01.jpg";
    const playerUrl = 'https://d2cwpp38twqe55.cloudfront.net/req/201804182/images/players/';
    $.ajax({
      url: req,
      type: 'GET',
      dataType: 'json',
      success: (data) => {
        $('#name2').html(data.name);
        $('#field-goal2').html(data.fieldGoalPercent);
        $('#free-throw2').html(data.freeThrowPercent);
        $('#assists2').html(data.assist);
        $('#steals2').html(data.steal);
        $('#blocks2').html(data.block);
        $('#points2').html(data.points);
        $('#minutes2').html(data.minutesPlayed);
      },
    });
  });
});
</script>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <img href="/" src="../logo.png" alt="Logo" style="height: 36px; margin-right: 16px"></img>
    <a class="navbar-brand" href="/" style="color: #E67747; font-weight: 600;">basket.</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/player">Players</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/team">Teams</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/prediction">Predict</a>
          </li>
        </ul>
      </div>
    </nav>
<h1>Game Predictions</h1>
<div class="container">
  <div class="row">
    <div class="col">
      <div class="card">
          <span class="border border-warning"></span>
        <div class="card-body">
          <table>
            <tr>
              <td><h4>Predictions for Top 10 Teams</h4></td>
            </tr>
            <tr>
              <td id="team1A">Team 1</td>
              <td>vs.</td>
              <td id="team1B">Team 2</td>
              <td id="prediction1">Prediction</td>
            </tr>
            <tr>
              <td id="team2A">Team 1</td>
              <td>vs.</td>
              <td id="team2B">Team 2</td>
              <td id="prediction2">Prediction</td>
            </tr>
            <tr>
              <td id="team3A">Team 1</td>
              <td>vs.</td>
              <td id="team3B">Team 2</td>
              <td id="prediction3">Prediction</td>
            </tr>
            <tr>
              <td id="team4A">Team 1</td>
              <td>vs.</td>
              <td id="team4B">Team 2</td>
              <td id="prediction4">Prediction</td>
            </tr>
            <tr>
              <td id="team5A">Team 1</td>
              <td>vs.</td>
              <td id="team5B">Team 2</td>
              <td id="prediction5">Prediction</td>
            </tr>
            <tr>
              <td id="team6A">Team 1 (user input)</td>
              <td>vs.</td>
              <td id="team6B">Team 2 (user input)</td>
              <td id="prediction6">Prediction (user input)</td>
            </tr>
            <tr>
            </table>
              <td>
              <h4>Predict any game:</h4>
            </td>
            </tr>
            <tr>
              <td>
                <input class="form-control mr-sm-2" id="predictionTeam1"  placeholder="Team A" aria-label="Search">
              </td>
              <td></td>
              <td>
                <input class="form-control mr-sm-2" id="predictionTeam2"  placeholder="Team B" aria-label="Search">
              </td>
              <td>
                <button class="btn btn-outline-success my-2 my-sm-0" id="prediction-btn">Predict</button>
              </td>
        </div>
      </div>
    </div>
    </div>
</div>
</body>
